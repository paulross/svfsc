<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sparse Virtual File System: /Users/paulross/CLionProjects/cppSVF/src/cpy/simulator.py Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Sparse Virtual File System
   &#160;<span id="projectnumber">0.1.2</span>
   </div>
   <div id="projectbrief">A Sparse Virtual File System.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_e1d16d2778cccd47d4eaab8d61559ac8.html">cpy</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">simulator.py</div>  </div>
</div><!--header-->
<div class="contents">
<a href="simulator_8py.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespacesrc_1_1cpy_1_1simulator.html">    1</a></span>&#160;<span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="stringliteral">MIT License</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="stringliteral">Copyright (c) 2020-2023 Paul Ross</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="stringliteral">Permission is hereby granted, free of charge, to any person obtaining a copy</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="stringliteral">of this software and associated documentation files (the &quot;Software&quot;), to deal</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="stringliteral">in the Software without restriction, including without limitation the rights</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="stringliteral">to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="stringliteral">copies of the Software, and to permit persons to whom the Software is</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="stringliteral">furnished to do so, subject to the following conditions:</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="stringliteral">The above copyright notice and this permission notice shall be included in all</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="stringliteral">copies or substantial portions of the Software.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="stringliteral">THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="stringliteral">IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="stringliteral">FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="stringliteral">AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="stringliteral">LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="stringliteral">OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="stringliteral">SOFTWARE.</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">import</span> argparse</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">import</span> dataclasses</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">import</span> logging</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">import</span> pprint</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">import</span> sys</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">import</span> time</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">import</span> typing</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">import</span> svfsc</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">import</span> <a class="code" href="namespacesrc_1_1cpy_1_1sim__examples.html">src.cpy.sim_examples</a> <span class="keyword">as</span> sim_examples</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="namespacesrc_1_1cpy_1_1simulator.html#a52e351f89c3dab687c1b48a75cf94126">   36</a></span>&#160;logger = logging.getLogger(__file__)</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="namespacesrc_1_1cpy_1_1simulator.html#a1338376f7e26631413b27e240097193f">   38</a></span>&#160;LOG_FORMAT_VERBOSE = (</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="stringliteral">&#39;%(asctime)s - %(filename)24s#%(lineno)-4d - %(process)5d - (%(threadName)-10s) - %(levelname)-8s - %(message)s&#39;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;)</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="namespacesrc_1_1cpy_1_1simulator.html#af70c01f35a84a053d9e64aca50d70f93">   42</a></span>&#160;LOG_FORMAT_NO_THREAD = (</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="stringliteral">&#39;%(asctime)s - %(filename)24s#%(lineno)-4d - %(process)5d - %(levelname)-8s - %(message)s&#39;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;)</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="namespacesrc_1_1cpy_1_1simulator.html#a76512cbeb3a96338f7299f152ead61ad">   46</a></span>&#160;LOG_FORMAT_NO_PROCESS = (</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="stringliteral">&#39;%(asctime)s - %(filename)12s#%(lineno)-4d - %(levelname)-8s - %(message)s&#39;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;)</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html">   51</a></span>&#160;<span class="keyword">class </span><a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html">Communications</a>:</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;Represents the delay over a communication line.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#ad47a26a3bf3546a86d49dd3df0a52430">   54</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#ad47a26a3bf3546a86d49dd3df0a52430">__init__</a>(self, latency_one_way_s: float, bandwidth_bps: float, realtime: bool = <span class="keyword">False</span>):</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Bandwidth 0.0 means infinite bandwidth.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#a1feaef69c2ffc4554bf63a135b800ef5">   56</a></span>&#160;        self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#a1feaef69c2ffc4554bf63a135b800ef5">latency_one_way_s</a>latency_one_way_s = latency_one_way_s</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#ac130ba65ac592b7aa4ed1476839629ff">   57</a></span>&#160;        self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#ac130ba65ac592b7aa4ed1476839629ff">bandwidth_bps</a>bandwidth_bps = bandwidth_bps</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#a80720a7f14f7e667314b983aba9d41b2">   58</a></span>&#160;        self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#a80720a7f14f7e667314b983aba9d41b2">realtime</a>realtime = realtime</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#a7762aaf26127374da662f686e3db47f5">   59</a></span>&#160;        self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#a7762aaf26127374da662f686e3db47f5">time_latency</a>time_latency = 0.0</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#a87ae0d009266c0bce84c8e4f6779d1b1">   60</a></span>&#160;        self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#a87ae0d009266c0bce84c8e4f6779d1b1">time_bandwidth</a>time_bandwidth = 0.0</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#acc78ea63d5ea775c3987f901ef08c247">   61</a></span>&#160;        self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#acc78ea63d5ea775c3987f901ef08c247">time_total</a>time_total = 0.0</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#a51b3235d1534f8c0de18eb7f3a1ae197">   63</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#a51b3235d1534f8c0de18eb7f3a1ae197">transmit</a>(self, data_bytes: bytes, direction: str) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        t = self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#a1feaef69c2ffc4554bf63a135b800ef5">latency_one_way_s</a>latency_one_way_s</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#a7762aaf26127374da662f686e3db47f5">time_latency</a>time_latency += self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#a1feaef69c2ffc4554bf63a135b800ef5">latency_one_way_s</a>latency_one_way_s</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#ac130ba65ac592b7aa4ed1476839629ff">bandwidth_bps</a>bandwidth_bps:</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            t_bandwidth = 8 * len(data_bytes) / self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#ac130ba65ac592b7aa4ed1476839629ff">bandwidth_bps</a>bandwidth_bps</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            t += t_bandwidth</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#a87ae0d009266c0bce84c8e4f6779d1b1">time_bandwidth</a>time_bandwidth += t_bandwidth</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        logger.debug(<span class="stringliteral">&#39;COMMS_: %s length %d delay %.3f (ms)&#39;</span>, direction, len(data_bytes), t * 1000)</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#acc78ea63d5ea775c3987f901ef08c247">time_total</a>time_total += t</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#a80720a7f14f7e667314b983aba9d41b2">realtime</a>realtime:</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            time.sleep(t)</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_server.html">   76</a></span>&#160;<span class="keyword">class </span><a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_server.html">Server</a>:</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_server.html#a2e770878b81f28a164f0471691ac7332">   77</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_server.html#a2e770878b81f28a164f0471691ac7332">__init__</a>(self, seek_rate_byte_per_s: float, read_rate_byte_per_s: float, realtime: bool = <span class="keyword">False</span>):</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_server.html#a52ff42bdad89443911ea325f4ab471cd">   78</a></span>&#160;        self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_server.html#a52ff42bdad89443911ea325f4ab471cd">seek_rate_byte_per_s</a>seek_rate_byte_per_s = seek_rate_byte_per_s</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_server.html#ab10d960cae8f969e8a9368f0e06569a9">   79</a></span>&#160;        self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_server.html#ab10d960cae8f969e8a9368f0e06569a9">read_rate_byte_per_s</a>read_rate_byte_per_s = read_rate_byte_per_s</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_server.html#a938d3dd66ed93531f30f09880e7cd6eb">   80</a></span>&#160;        self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_server.html#a938d3dd66ed93531f30f09880e7cd6eb">realtime</a>realtime = realtime</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_server.html#acd64fbc2f4fb8dc7618197e33b437b5b">   81</a></span>&#160;        self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_server.html#acd64fbc2f4fb8dc7618197e33b437b5b">file_position</a>file_position = 0</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_server.html#ad98a4563e45ae941815eb05dedfcaf41">   82</a></span>&#160;        self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_server.html#ad98a4563e45ae941815eb05dedfcaf41">total_time</a>total_time = 0.0</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_server.html#abfa43ea7a1cf11c46e1e280983d14a81">   84</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_server.html#abfa43ea7a1cf11c46e1e280983d14a81">get</a>(self, file_position: int, length: int) -&gt; bytes:</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        t = abs(file_position - self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_server.html#acd64fbc2f4fb8dc7618197e33b437b5b">file_position</a>file_position) / self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_server.html#a52ff42bdad89443911ea325f4ab471cd">seek_rate_byte_per_s</a>seek_rate_byte_per_s</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        t += length / self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_server.html#ab10d960cae8f969e8a9368f0e06569a9">read_rate_byte_per_s</a>read_rate_byte_per_s</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_server.html#ad98a4563e45ae941815eb05dedfcaf41">total_time</a>total_time += t</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        logger.debug(<span class="stringliteral">&#39;SERVER: fpos %d length %d delay %.3f (ms)&#39;</span>, file_position, length, t * 1000)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_server.html#a938d3dd66ed93531f30f09880e7cd6eb">realtime</a>realtime:</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            time.sleep(t)</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_server.html#acd64fbc2f4fb8dc7618197e33b437b5b">file_position</a>file_position = file_position</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordflow">return</span> b<span class="stringliteral">&#39; &#39;</span> * length</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">@dataclasses.dataclass</span></div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_run_result.html">   96</a></span>&#160;<span class="keyword">class </span><a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_run_result.html">RunResult</a>:</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    has_hits: int</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    has_misses: int</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    minimal_bytes: int</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    num_bytes: int</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    sizeof: int</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    time_exec: float</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_client.html">  105</a></span>&#160;<span class="keyword">class </span><a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_client.html">Client</a>:</div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_client.html#aed9c4c304e3b389ab9875fca6c609b83">  106</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_client.html#aed9c4c304e3b389ab9875fca6c609b83">__init__</a>(self, comms: Communications, server: Server):</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_client.html#a93b39a9b23a27204b9fbf0937fbbb992">  107</a></span>&#160;        self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_client.html#a93b39a9b23a27204b9fbf0937fbbb992">comms</a>comms = comms</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_client.html#ae71ab1efd66999a4e8a1376cc69ee0f9">  108</a></span>&#160;        self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_client.html#ae71ab1efd66999a4e8a1376cc69ee0f9">server</a>server = server</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="classsrc_1_1cpy_1_1simulator_1_1_client.html#a7081ef07e345b4a354af08893190b138">  110</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_client.html#a7081ef07e345b4a354af08893190b138">run</a>(self, seek_reads: typing.Tuple[typing.Tuple[int, int], ...], greedy_length: int) -&gt; RunResult:</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        time_start = time.perf_counter()</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        svf = svfsc.cSVF(<span class="stringliteral">&#39;ID&#39;</span>)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        time_svf = 0.0</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        has_hits = has_misses = 0</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        minimal_bytes = 0</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">for</span> fpos_demand, length_demand <span class="keywordflow">in</span> seek_reads:</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            minimal_bytes += length_demand</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            blocks = [f<span class="stringliteral">&#39;({fpos:,d} : {length:,d} : {fpos + length:,d})&#39;</span> <span class="keywordflow">for</span> fpos, length <span class="keywordflow">in</span> svf.blocks()]</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            logger.debug(<span class="stringliteral">&#39;CLIENT:  blocks was: %s&#39;</span>, blocks)</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            logger.debug(</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                f<span class="stringliteral">&#39;CLIENT: demands fpos {fpos_demand:16,d} length {length_demand:6,d} ({fpos_demand + length_demand:16,d})&#39;</span>)</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            time_svf_start = time.perf_counter()</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            has_data = svf.has_data(fpos_demand, length_demand)</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            time_svf += time.perf_counter() - time_svf_start</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <span class="keywordflow">if</span> <span class="keywordflow">not</span> has_data:</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                time_svf_start = time.perf_counter()</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                need = svf.need(fpos_demand, length_demand, greedy_length)</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                time_svf += time.perf_counter() - time_svf_start</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                logger.debug(f<span class="stringliteral">&#39;CLIENT:    need {need}&#39;</span>)</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                <span class="keywordflow">for</span> fpos, length <span class="keywordflow">in</span> need:</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                    logger.debug(f<span class="stringliteral">&#39;CLIENT:    need fpos {fpos:16,d} length {length:6,d} ({fpos + length:16,d})&#39;</span>)</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                    <span class="comment"># Crude simulation of a GET request.</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                    client_server_message = f<span class="stringliteral">&#39;GET File position {fpos} length {length}&#39;</span>.encode(<span class="stringliteral">&#39;ascii&#39;</span>)</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                    self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_client.html#a93b39a9b23a27204b9fbf0937fbbb992">comms</a>comms.transmit(client_server_message, <span class="stringliteral">&#39;Client-&gt;Server&#39;</span>)</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                    result = self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_client.html#ae71ab1efd66999a4e8a1376cc69ee0f9">server</a>server.get(fpos, length)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                    self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_client.html#a93b39a9b23a27204b9fbf0937fbbb992">comms</a>comms.transmit(result, <span class="stringliteral">&#39;Server-&gt;Client&#39;</span>)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                    time_svf_start = time.perf_counter()</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                    svf.write(fpos, result)</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                    time_svf += time.perf_counter() - time_svf_start</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                    logger.debug(</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                        f<span class="stringliteral">&#39;CLIENT:   wrote fpos {fpos:16,d} length {len(result):6,d} ({fpos + len(result):16,d})&#39;</span>)</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                <span class="keywordflow">if</span> <span class="keywordflow">not</span> svf.has_data(fpos_demand, length_demand):</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                    logger.error(</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                        f<span class="stringliteral">&#39;CLIENT: demands fpos {fpos_demand:16,d} length {length_demand:6,d} ({fpos_demand + length_demand:16,d})&#39;</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                    )</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                    blocks = [f<span class="stringliteral">&#39;({fpos:,d} : {length:,d} : {fpos + length:,d})&#39;</span> <span class="keywordflow">for</span> fpos, length <span class="keywordflow">in</span> svf.blocks()]</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                    logger.error(<span class="stringliteral">&#39;CLIENT:  blocks now: %s&#39;</span>, blocks)</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                    <span class="keyword">assert</span> 0</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                has_misses += 1</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                logger.debug(</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                    f<span class="stringliteral">&#39;CLIENT:     has fpos {fpos_demand:16,d} length {length_demand:6,d} ({fpos_demand + length_demand:16,d})&#39;</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                )</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                has_hits += 1</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            time_svf_start = time.perf_counter()</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            svf.read(fpos_demand, length_demand)</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            time_svf += time.perf_counter() - time_svf_start</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        time_exec = time.perf_counter() - time_start</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        time_exec = self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_client.html#a93b39a9b23a27204b9fbf0937fbbb992">comms</a>comms.time_total + self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_client.html#ae71ab1efd66999a4e8a1376cc69ee0f9">server</a>server.total_time + time_svf</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        logger.info(<span class="stringliteral">&#39;has(): hits: %d misses: %d&#39;</span>, has_hits, has_misses)</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        logger.info(</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <span class="stringliteral">&#39;Blocks: %d bytes: %d sizeof: %d overhead: %d&#39;</span>, svf.num_blocks(), svf.num_bytes(), svf.size_of(),</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            svf.size_of() - svf.num_bytes()</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        )</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        logger.info(</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            f<span class="stringliteral">&#39;Comms laten: {self.comms.time_latency * 1000:10.3f} (ms)&#39;</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            f<span class="stringliteral">&#39; ({self.comms.time_latency / self.comms.time_total:6.1%}) of Comms total.&#39;</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        )</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        logger.info(</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            f<span class="stringliteral">&#39;Comms bwidt: {self.comms.time_bandwidth * 1000:10.3f} (ms)&#39;</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            f<span class="stringliteral">&#39; ({self.comms.time_bandwidth / self.comms.time_total:6.1%}) of Comms total.&#39;</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        )</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        percent_str = <span class="stringliteral">&#39;+&#39;</span> * int(0.5 + 50 * self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_client.html#a93b39a9b23a27204b9fbf0937fbbb992">comms</a>comms.time_total / time_exec)</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        logger.info(</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            f<span class="stringliteral">&#39;Comms time : {self.comms.time_total * 1000:10.3f} (ms) ({self.comms.time_total / time_exec:6.1%})&#39;</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            f<span class="stringliteral">&#39; {percent_str}&#39;</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        )</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        percent_str = <span class="stringliteral">&#39;+&#39;</span> * int(0.5 + 50 * self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_client.html#ae71ab1efd66999a4e8a1376cc69ee0f9">server</a>server.total_time / time_exec)</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        logger.info(</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            f<span class="stringliteral">&#39;Server time: {self.server.total_time * 1000:10.3f} (ms) ({self.server.total_time / time_exec:6.1%})&#39;</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            f<span class="stringliteral">&#39; {percent_str}&#39;</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        )</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        percent_str = <span class="stringliteral">&#39;+&#39;</span> * int(0.5 + 50 * time_svf / time_exec)</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        logger.info(</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            f<span class="stringliteral">&#39;SVF time   : {time_svf * 1000:10.3f} (ms) ({time_svf / time_exec:6.1%})&#39;</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            f<span class="stringliteral">&#39; {percent_str}&#39;</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        )</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="comment"># time_residual = time_exec - self.comms.total_time - self.server.total_time - time_svf</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="comment"># percent_str = &#39;+&#39; * int(0.5 + 50 * time_residual / time_exec)</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="comment"># logger.info(</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="comment">#     f&#39;Residual   : {time_residual * 1000:10.3f} (ms) ({time_residual / time_exec:6.1%})&#39;</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="comment">#     f&#39; {percent_str}&#39;</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="comment"># )</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        logger.info(f<span class="stringliteral">&#39;Total      : {time_exec * 1000:10.3f} (ms) ({time_exec / time_exec:6.1%})&#39;</span>)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        logger.info(<span class="stringliteral">&#39;SVF contents: %s Execution time: %.3f (s) %.3f (Mb/s)&#39;</span>,</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                    svf.num_bytes(), time_exec, svf.num_bytes() / time_exec / 1024 ** 2</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                    )</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_run_result.html">RunResult</a>(has_hits, has_misses, minimal_bytes, svf.num_bytes(), svf.size_of(),</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                         self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_client.html#a93b39a9b23a27204b9fbf0937fbbb992">comms</a>comms.time_total + self.<a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_client.html#ae71ab1efd66999a4e8a1376cc69ee0f9">server</a>server.total_time + time_svf</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                         )</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="namespacesrc_1_1cpy_1_1simulator.html#ab9485394b42e27dd2c6a488e154c5593">  204</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacesrc_1_1cpy_1_1simulator.html#ab9485394b42e27dd2c6a488e154c5593">run</a>(</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        events: typing.Tuple[typing.Tuple[int, int], ...],</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        greedy_length: int,</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        latency_s: float, bandwidth_bit_ps: float,</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        seek_rate_byte_per_s: float, read_rate_byte_per_s: float, realtime: bool</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;) -&gt; RunResult:</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    comms = <a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_communications.html">Communications</a>(latency_s, bandwidth_bit_ps, realtime=realtime)</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    server = <a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_server.html">Server</a>(seek_rate_byte_per_s, read_rate_byte_per_s, realtime=realtime)</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    client = <a class="code" href="classsrc_1_1cpy_1_1simulator_1_1_client.html">Client</a>(comms, server)</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">return</span> client.run(events, greedy_length)</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="namespacesrc_1_1cpy_1_1simulator.html#a01c03d07856b00df79f607b6ae30d142">  216</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacesrc_1_1cpy_1_1simulator.html#a01c03d07856b00df79f607b6ae30d142">main</a>():</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    time_start = time.perf_counter()</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    result = 0</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    parser = argparse.ArgumentParser(description=<span class="stringliteral">&#39;Simulate reading into a SVF.&#39;</span>, prog=__file__)</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    parser.add_argument(<span class="stringliteral">&#39;-l&#39;</span>, <span class="stringliteral">&#39;--log-level&#39;</span>, dest=<span class="stringliteral">&#39;log_level&#39;</span>, type=int, default=20, help=<span class="stringliteral">&#39;Log level.&#39;</span>)</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    parser.add_argument(<span class="stringliteral">&#39;--latency&#39;</span>, type=float, default=10,</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                        help=<span class="stringliteral">&#39;Communications channel latency (NOTE: one way) in ms. [default: %(default)d]&#39;</span>)</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    parser.add_argument(<span class="stringliteral">&#39;--bandwidth&#39;</span>, type=float, default=50,</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                        help=<span class="stringliteral">&#39;Communications channel bandwidth in million bits per second.&#39;</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                             <span class="stringliteral">&#39; Zero is infinite bandwidth. [default: %(default)d]&#39;</span>)</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    parser.add_argument(<span class="stringliteral">&#39;--seek-rate&#39;</span>, type=float, default=10000,</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                        help=<span class="stringliteral">&#39;Server seek rate in million bytes per second. [default: %(default)d]&#39;</span>)</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    parser.add_argument(<span class="stringliteral">&#39;--read-rate&#39;</span>, type=float, default=50,</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                        help=<span class="stringliteral">&#39;Server read rate in million bytes per second. [default: %(default)d]&#39;</span>)</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    parser.add_argument(<span class="stringliteral">&#39;--greedy-length&#39;</span>, type=int, default=-1,</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                        help=(</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                            <span class="stringliteral">&#39;The greedy length to read fragments from the server.&#39;</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                            <span class="stringliteral">&#39; Zero means read every fragment.&#39;</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                            <span class="stringliteral">&#39; Default is to run through a range of greedy lengths and report the performance.&#39;</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                            <span class="stringliteral">&#39; [default: %(default)d]&#39;</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                        )</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                        )</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    parser.add_argument(<span class="stringliteral">&#39;--realtime&#39;</span>, action=<span class="stringliteral">&quot;store_true&quot;</span>, default=<span class="keyword">False</span>,</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                        help=<span class="stringliteral">&#39;Run in realtime (may be slow). [default: %(default)d]&#39;</span>)</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    args = parser.parse_args()</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment"># print(&#39;Args:&#39;, args)</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    logging.basicConfig(level=args.log_level, format=LOG_FORMAT_NO_PROCESS, stream=sys.stdout)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    results_time: typing.Dict[str, typing.List[typing.Tuple[int, RunResult]]] = {}</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    print(<span class="stringliteral">&#39;Simulator setup:&#39;</span>)</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    print(f<span class="stringliteral">&#39;Network latency (one way) {args.latency:.3f} (ms) bandwidth {args.bandwidth:.3f} (M bits/s)&#39;</span>)</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    print(f<span class="stringliteral">&#39;Server seek rate {args.seek_rate:.3f} (M bytes/s) read rate {args.read_rate:.3f} (M bytes/s)&#39;</span>)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="comment"># for name in (&#39;EXAMPLE_FILE_POSITIONS_LENGTHS_TIFF_CMU_1&#39;,):</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment"># for name in (&#39;EXAMPLE_FILE_POSITIONS_LENGTHS_SYNTHETIC&#39;,):</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    t_start = time.perf_counter()</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">for</span> name <span class="keywordflow">in</span> sim_examples.EXAMPLE_FILE_POSITIONS_LENGTHS:</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordflow">if</span> args.greedy_length == -1:  <span class="comment"># Default greedy-length, use a range</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            greedy_length = 0</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <span class="comment"># for greedy_length in (1024,):</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <span class="comment"># for greedy_length in range(0, 1024 + 32, 32):</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="keywordflow">while</span> greedy_length &lt;= 2048 * 4 * 4 * 4:</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                logger.info(<span class="stringliteral">&#39;Running %s with %d file actions and greedy_length %d&#39;</span>, name,</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                            len(sim_examples.EXAMPLE_FILE_POSITIONS_LENGTHS[name]), greedy_length)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                result = <a class="code" href="namespacesrc_1_1cpy_1_1simulator.html#ab9485394b42e27dd2c6a488e154c5593">run</a>(</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                    sim_examples.EXAMPLE_FILE_POSITIONS_LENGTHS[name], greedy_length,</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                    args.latency / 1000, args.bandwidth * 1e6, args.seek_rate * 1e6, args.read_rate * 1e6, args.realtime</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                )</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                <span class="keywordflow">if</span> name <span class="keywordflow">not</span> <span class="keywordflow">in</span> results_time:</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                    results_time[name] = []</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                results_time[name].append((greedy_length, result))</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                <span class="keywordflow">if</span> greedy_length == 0:</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                    greedy_length = 1</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                <span class="keywordflow">elif</span> greedy_length == 1:</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                    greedy_length = 16</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                    greedy_length *= 2</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            logger.info(<span class="stringliteral">&#39;Running %s with %d file actions and greedy_length %d&#39;</span>, name,</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                        len(sim_examples.EXAMPLE_FILE_POSITIONS_LENGTHS[name]), args.greedy_length)</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            result = <a class="code" href="namespacesrc_1_1cpy_1_1simulator.html#ab9485394b42e27dd2c6a488e154c5593">run</a>(</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                sim_examples.EXAMPLE_FILE_POSITIONS_LENGTHS[name], args.greedy_length,</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                args.latency / 1000, args.bandwidth * 1e6, args.seek_rate * 1e6, args.read_rate * 1e6, args.realtime</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            )</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            <span class="keywordflow">if</span> name <span class="keywordflow">not</span> <span class="keywordflow">in</span> results_time:</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                results_time[name] = []</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            results_time[name].append((args.greedy_length, result))</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">for</span> key <span class="keywordflow">in</span> results_time:</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        print(f<span class="stringliteral">&#39;{key}:&#39;</span>)</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        print(</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            f<span class="stringliteral">&#39;{&quot;greedy_length&quot;:&gt;14} {&quot;Time(ms)&quot;:&gt;10}&#39;</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            f<span class="stringliteral">&#39; {&quot;Hits&quot;:&gt;8} {&quot;Miss&quot;:&gt;8} {&quot;Hits%&quot;:&gt;8}&#39;</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            f<span class="stringliteral">&#39; {&quot;Min. Bytes&quot;:&gt;12} {&quot;Act. Bytes&quot;:&gt;12} {&quot;Act. / Min.&quot;:&gt;12}&#39;</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            f<span class="stringliteral">&#39; {&quot;sizeof&quot;:&gt;10} {&quot;Overhead&quot;:&gt;8} {&quot;sizeof / Act.&quot;:&gt;14}&#39;</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        )</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">for</span> greedy_length, result <span class="keywordflow">in</span> results_time[key]:</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            print(</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                f<span class="stringliteral">&#39;{greedy_length:14} {result.time_exec * 1000 :10.1f} {result.has_hits:8d} {result.has_misses:8d}&#39;</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                f<span class="stringliteral">&#39; {result.has_hits / (result.has_hits + result.has_misses):8.3%}&#39;</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                f<span class="stringliteral">&#39; {result.minimal_bytes:12d} {result.num_bytes:12d} {result.num_bytes / result.minimal_bytes:12.3%}&#39;</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                f<span class="stringliteral">&#39; {result.sizeof:10d} {result.sizeof - result.num_bytes:+8d} {result.sizeof / result.num_bytes:14.3%}&#39;</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            )</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    print(f<span class="stringliteral">&#39;Execution time: {time.perf_counter() - time_start:10.3f} (s)&#39;</span>)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">return</span> 0</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="keywordflow">if</span> __name__ == <span class="stringliteral">&#39;__main__&#39;</span>:</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    exit(<a class="code" href="namespacesrc_1_1cpy_1_1simulator.html#a01c03d07856b00df79f607b6ae30d142">main</a>())</div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_client_html"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_client.html">src.cpy.simulator.Client</a></div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00105">simulator.py:105</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_client_html_a7081ef07e345b4a354af08893190b138"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_client.html#a7081ef07e345b4a354af08893190b138">src.cpy.simulator.Client.run</a></div><div class="ttdeci">RunResult run(self, typing.Tuple[typing.Tuple[int, int],...] seek_reads, int greedy_length)</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00110">simulator.py:110</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_client_html_a93b39a9b23a27204b9fbf0937fbbb992"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_client.html#a93b39a9b23a27204b9fbf0937fbbb992">src.cpy.simulator.Client.comms</a></div><div class="ttdeci">comms</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00107">simulator.py:107</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_client_html_ae71ab1efd66999a4e8a1376cc69ee0f9"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_client.html#ae71ab1efd66999a4e8a1376cc69ee0f9">src.cpy.simulator.Client.server</a></div><div class="ttdeci">server</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00108">simulator.py:108</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_client_html_aed9c4c304e3b389ab9875fca6c609b83"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_client.html#aed9c4c304e3b389ab9875fca6c609b83">src.cpy.simulator.Client.__init__</a></div><div class="ttdeci">def __init__(self, Communications comms, Server server)</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00106">simulator.py:106</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_communications_html"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_communications.html">src.cpy.simulator.Communications</a></div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00051">simulator.py:51</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_communications_html_a1feaef69c2ffc4554bf63a135b800ef5"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#a1feaef69c2ffc4554bf63a135b800ef5">src.cpy.simulator.Communications.latency_one_way_s</a></div><div class="ttdeci">latency_one_way_s</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00056">simulator.py:56</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_communications_html_a51b3235d1534f8c0de18eb7f3a1ae197"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#a51b3235d1534f8c0de18eb7f3a1ae197">src.cpy.simulator.Communications.transmit</a></div><div class="ttdeci">None transmit(self, bytes data_bytes, str direction)</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00063">simulator.py:63</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_communications_html_a7762aaf26127374da662f686e3db47f5"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#a7762aaf26127374da662f686e3db47f5">src.cpy.simulator.Communications.time_latency</a></div><div class="ttdeci">time_latency</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00059">simulator.py:59</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_communications_html_a80720a7f14f7e667314b983aba9d41b2"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#a80720a7f14f7e667314b983aba9d41b2">src.cpy.simulator.Communications.realtime</a></div><div class="ttdeci">realtime</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00058">simulator.py:58</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_communications_html_a87ae0d009266c0bce84c8e4f6779d1b1"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#a87ae0d009266c0bce84c8e4f6779d1b1">src.cpy.simulator.Communications.time_bandwidth</a></div><div class="ttdeci">time_bandwidth</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00060">simulator.py:60</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_communications_html_ac130ba65ac592b7aa4ed1476839629ff"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#ac130ba65ac592b7aa4ed1476839629ff">src.cpy.simulator.Communications.bandwidth_bps</a></div><div class="ttdeci">bandwidth_bps</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00057">simulator.py:57</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_communications_html_acc78ea63d5ea775c3987f901ef08c247"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#acc78ea63d5ea775c3987f901ef08c247">src.cpy.simulator.Communications.time_total</a></div><div class="ttdeci">time_total</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00061">simulator.py:61</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_communications_html_ad47a26a3bf3546a86d49dd3df0a52430"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_communications.html#ad47a26a3bf3546a86d49dd3df0a52430">src.cpy.simulator.Communications.__init__</a></div><div class="ttdeci">def __init__(self, float latency_one_way_s, float bandwidth_bps, bool realtime=False)</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00054">simulator.py:54</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_run_result_html"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_run_result.html">src.cpy.simulator.RunResult</a></div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00096">simulator.py:96</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_server_html"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_server.html">src.cpy.simulator.Server</a></div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00076">simulator.py:76</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_server_html_a2e770878b81f28a164f0471691ac7332"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_server.html#a2e770878b81f28a164f0471691ac7332">src.cpy.simulator.Server.__init__</a></div><div class="ttdeci">def __init__(self, float seek_rate_byte_per_s, float read_rate_byte_per_s, bool realtime=False)</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00077">simulator.py:77</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_server_html_a52ff42bdad89443911ea325f4ab471cd"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_server.html#a52ff42bdad89443911ea325f4ab471cd">src.cpy.simulator.Server.seek_rate_byte_per_s</a></div><div class="ttdeci">seek_rate_byte_per_s</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00078">simulator.py:78</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_server_html_a938d3dd66ed93531f30f09880e7cd6eb"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_server.html#a938d3dd66ed93531f30f09880e7cd6eb">src.cpy.simulator.Server.realtime</a></div><div class="ttdeci">realtime</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00080">simulator.py:80</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_server_html_ab10d960cae8f969e8a9368f0e06569a9"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_server.html#ab10d960cae8f969e8a9368f0e06569a9">src.cpy.simulator.Server.read_rate_byte_per_s</a></div><div class="ttdeci">read_rate_byte_per_s</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00079">simulator.py:79</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_server_html_abfa43ea7a1cf11c46e1e280983d14a81"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_server.html#abfa43ea7a1cf11c46e1e280983d14a81">src.cpy.simulator.Server.get</a></div><div class="ttdeci">bytes get(self, int file_position, int length)</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00084">simulator.py:84</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_server_html_acd64fbc2f4fb8dc7618197e33b437b5b"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_server.html#acd64fbc2f4fb8dc7618197e33b437b5b">src.cpy.simulator.Server.file_position</a></div><div class="ttdeci">file_position</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00081">simulator.py:81</a></div></div>
<div class="ttc" id="aclasssrc_1_1cpy_1_1simulator_1_1_server_html_ad98a4563e45ae941815eb05dedfcaf41"><div class="ttname"><a href="classsrc_1_1cpy_1_1simulator_1_1_server.html#ad98a4563e45ae941815eb05dedfcaf41">src.cpy.simulator.Server.total_time</a></div><div class="ttdeci">total_time</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00082">simulator.py:82</a></div></div>
<div class="ttc" id="anamespacesrc_1_1cpy_1_1sim__examples_html"><div class="ttname"><a href="namespacesrc_1_1cpy_1_1sim__examples.html">src.cpy.sim_examples</a></div><div class="ttdef"><b>Definition:</b> <a href="sim__examples_8py_source.html#l00001">sim_examples.py:1</a></div></div>
<div class="ttc" id="anamespacesrc_1_1cpy_1_1simulator_html_a01c03d07856b00df79f607b6ae30d142"><div class="ttname"><a href="namespacesrc_1_1cpy_1_1simulator.html#a01c03d07856b00df79f607b6ae30d142">src.cpy.simulator.main</a></div><div class="ttdeci">def main()</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00216">simulator.py:216</a></div></div>
<div class="ttc" id="anamespacesrc_1_1cpy_1_1simulator_html_ab9485394b42e27dd2c6a488e154c5593"><div class="ttname"><a href="namespacesrc_1_1cpy_1_1simulator.html#ab9485394b42e27dd2c6a488e154c5593">src.cpy.simulator.run</a></div><div class="ttdeci">RunResult run(typing.Tuple[typing.Tuple[int, int],...] events, int greedy_length, float latency_s, float bandwidth_bit_ps, float seek_rate_byte_per_s, float read_rate_byte_per_s, bool realtime)</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8py_source.html#l00204">simulator.py:209</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
