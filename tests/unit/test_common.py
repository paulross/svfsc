import json

import pytest

from src.cpy import common


def test_seek_read_load():
    sr = common.SeekRead()
    sr.append((8, 4))
    assert len(sr) == 1


SEEK_READ_JSON = (
    (
        [],
        '[]',
    ),
    (
        [
            [8, 4],
        ],
        '[[8, 4]]',
    ),
    (
        [
            [8, 4],
            [128, 40],
        ],
        '[[8, 4], [128, 40]]',
    ),
)


@pytest.mark.parametrize(
    'seek_reads, expected_json_str',
    SEEK_READ_JSON,
)
def test_seek_read_to_json(seek_reads, expected_json_str):
    sr = common.SeekRead()
    # print(seek_reads)
    for seek, read in seek_reads:
        sr.append((seek, read))
    result = sr.to_json()
    assert result == expected_json_str


@pytest.mark.parametrize(
    'expected_seek_reads, json_str',
    SEEK_READ_JSON,
)
def test_seek_read_from_json(expected_seek_reads, json_str):
    sr = common.SeekRead.from_json(json_str)
    assert sr.seek_read == expected_seek_reads


EXAMPLE_SEEK_READ_INITIAL = [
    (0, b'0001V1.00RECORD08192              +++TIF@C:\\INSITE\\Data\\ExpFiles\\VA2456~1.DLI+++'),
    (80, b' \x00\xff\x01'), (84, b'\x00|\x80\x00'), (208, b'\x01\xfc\x81\x01'), (716, b'\x00\xcc\x81\x04'),
    (920, b'\x0b\xdc\x80\x05'), (3956, b'\x03R\x80\x05'), (4806, b'\x01~\x80\x03'), (5188, b'\x00\xa2\x80\x80'),
    (5350, b'\x06\x9c\x81\x06'), (7042, b'\x04\xce\xa0\x06'), (8272, b' \x00\xff\x01'), (8276, b'\x02&\xc1\x06'),
    (8826, b'\x1d\xd6\xa0\x06'), (16464, b' \x00\xff\x01'), (16468, b'\n\x80\xc1\x06'), (19156, b'\x00&\x00\x00'),
    (19194, b'\x00&\x00\x00'), (19232, b'\x00&\x00\x00'), (19270, b'\x00&\x00\x00'), (19308, b'\x00&\x00\x00'),
    (19346, b'\x00&\x00\x00'), (19384, b'\x00&\x00\x00'), (19422, b'\x00&\x00\x00'), (19460, b'\x00&\x00\x00'),
    (19498, b'\x00&\x00\x00'), (19536, b'\x00&\x00\x00'), (19574, b'\x00&\x00\x00'), (19612, b'\x00&\x00\x00'),
    (19650, b'\x00&\x00\x00'), (19688, b'\x00&\x00\x00'), (19726, b'\x00&\x00\x00'), (19764, b'\x00&\x00\x00'),
    (19802, b'\x00&\x00\x00'), (19840, b'\x00&\x00\x00'), (19878, b'\x00&\x00\x00'), (19916, b'\x00&\x00\x00'),
    (19954, b'\x00&\x00\x00'), (19992, b'\x00&\x00\x00'), (20030, b'\x00&\x00\x00'), (20068, b'\x00&\x00\x00'),
    (20106, b'\x00&\x00\x00'), (20144, b'\x00&\x00\x00'), (20182, b'\x00&\x00\x00'), (20220, b'\x00&\x00\x00'),
    (20258, b'\x00&\x00\x00'), (20296, b'\x00&\x00\x00'), (20334, b'\x00&\x00\x00'), (20372, b'\x00&\x00\x00'),
    (20410, b'\x00&\x00\x00'), (20448, b'\x00&\x00\x00'), (20486, b'\x00&\x00\x00'), (20524, b'\x00&\x00\x00'),
    (20562, b'\x00&\x00\x00'), (20600, b'\x00&\x00\x00'), (20638, b'\x00&\x00\x00'), (20676, b'\x00&\x00\x00'),
    (20714, b'\x00&\x00\x00'), (20752, b'\x00&\x00\x00'), (20790, b'\x00&\x00\x00'), (20828, b'\x00&\x00\x00'),
    (20866, b'\x00&\x00\x00'), (20904, b'\x00&\x00\x00'), (20942, b'\x00&\x00\x00'), (20980, b'\x00&\x00\x00'),
    (21018, b'\x00&\x00\x00'), (21056, b'\x00&\x00\x00'), (21094, b'\x00&\x00\x00'), (21132, b'\x00&\x00\x00'),
    (21170, b'\x00&\x00\x00'), (21208, b'\x00&\x00\x00'), (21246, b'\x00&\x00\x00'), (21284, b'\x00&\x00\x00'),
    (21322, b'\x00&\x00\x00'), (21360, b'\x00&\x00\x00'), (21398, b'\x00&\x00\x00'), (21436, b'\x00&\x00\x00'),
    (21474, b'\x00&\x00\x00'), (21512, b'\x00&\x00\x00'), (21550, b'\x00&\x00\x00'), (21588, b'\x00&\x00\x00'),
    (21626, b'\x00&\x00\x00'), (21664, b'\x00&\x00\x00'), (21702, b'\x00&\x00\x00'), (21740, b'\x00&\x00\x00'),
    (21778, b'\x00&\x00\x00'), (21816, b'\x00&\x00\x00'), (21854, b'\x00&\x00\x00'), (21892, b'\x00&\x00\x00'),
    (21930, b'\x00&\x00\x00'), (21968, b'\x00&\x00\x00'), (22006, b'\x00&\x00\x00'), (22044, b'\x00&\x00\x00'),
    (22082, b'\x00&\x00\x00'), (22120, b'\x00&\x00\x00'), (22158, b'\x00&\x00\x00'), (22196, b'\x00&\x00\x00'),
    (22234, b'\x00&\x00\x00'), (22272, b'\x00&\x00\x00'), (22310, b'\x00&\x00\x00'), (22348, b'\x00&\x00\x00'),
    (22386, b'\x00&\x00\x00'), (22424, b'\x00&\x00\x00'), (22462, b'\x00&\x00\x00'), (22500, b'\x00&\x00\x00'),
    (22538, b'\x00&\x00\x00'), (22576, b'\x00&\x00\x00'), (22614, b'\x00&\x00\x00'), (22652, b'\x00&\x00\x00'),
    (22690, b'\x00&\x00\x00'), (22728, b'\x00&\x00\x00'), (22766, b'\x00&\x00\x00'), (22804, b'\x00&\x00\x00'),
    (22842, b'\x00&\x00\x00'), (22880, b'\x00&\x00\x00'), (22918, b'\x00&\x00\x00'), (22956, b'\x00&\x00\x00'),
    (22994, b'\x00&\x00\x00'), (23032, b'\x00&\x00\x00'), (23070, b'\x00&\x00\x00'), (23108, b'\x00&\x00\x00'),
    (23146, b'\x00&\x00\x00'), (23184, b'\x00&\x00\x00'), (23222, b'\x00&\x00\x00'), (23260, b'\x00&\x00\x00'),
    (23298, b'\x00&\x00\x00'), (23336, b'\x00&\x00\x00'), (23374, b'\x00&\x00\x00'), (23412, b'\x00&\x00\x00'),
    (23450, b'\x00&\x00\x00'), (23488, b'\x00&\x00\x00'), (23526, b'\x00&\x00\x00'), (23564, b'\x00&\x00\x00'),
    (23602, b'\x00&\x00\x00'), (23640, b'\x00&\x00\x00'), (23678, b'\x00&\x00\x00'), (23716, b'\x00&\x00\x00'),
    (23754, b'\x00&\x00\x00'), (23792, b'\x00&\x00\x00'), (23830, b'\x00&\x00\x00'), (23868, b'\x00&\x00\x00'),
    (23906, b'\x00&\x00\x00'), (23944, b'\x00&\x00\x00'), (23982, b'\x00(\x01\x00'), (24022, b'\x00(\x01\x00'),
    (24062, b'\x00(\x01\x00'), (24102, b'\x00(\x01\x00'), (24142, b'\x00(\x01\x00'), (24182, b'\x00(\x01\x00'),
    (24222, b'\x00(\x01\x00'), (24262, b'\x00(\x01\x00'), (24302, b'\x00(\x01\x00'), (24342, b'\x00(\x01\x00'),
    (24382, b'\x00(\x01\x00'), (24422, b'\x00(\x01\x00'), (24462, b'\x00(\x01\x00'), (24502, b'\x00(\x01\x00'),
    (24542, b'\x00(\x01\x00'), (24582, b'\x00(\x01\x00'), (24622, b'\x00" \x00'), (24656, b' \x00\xff\x01'),
    (24660, b'\x00\x10A\x00'), (24676, b'\x00(\x01\x00'), (24716, b'\x00(\x01\x00'), (24756, b'\x00(\x01\x00'),
    (24796, b'\x00(\x01\x00'), (24836, b'\x00(\x01\x00'), (24876, b'\x00(\x01\x00'), (24916, b'\x00(\x01\x00'),
    (24956, b'\x00(\x01\x00'), (24996, b'\x00(\x01\x00'), (25036, b'\x00(\x01\x00'), (25076, b'\x00(\x01\x00'),
    (25116, b'\x00(\x01\x00'), (25156, b'\x00(\x01\x00'), (25196, b'\x00(\x01\x00'), (25236, b'\x00(\x01\x00'),
    (25276, b'\x00(\x01\x00'), (25316, b'\x00(\x01\x00'), (25356, b'\x00(\x01\x00'), (25396, b'\x00(\x01\x00'),
    (25436, b'\x00(\x01\x00'), (25476, b'\x00(\x01\x00'), (25516, b'\x00(\x01\x00'), (25556, b'\x00(\x01\x00'),
    (25596, b'\x00(\x01\x00'), (25636, b'\x00(\x01\x00'), (25676, b'\x00(\x01\x00'), (25716, b'\x00(\x01\x00'),
    (25756, b'\x00(\x01\x00'), (25796, b'\x00(\x01\x00'), (25836, b'\x00(\x01\x00'), (25876, b'\x00(\x01\x00'),
    (25916, b'\x00(\x01\x00'), (25956, b'\x00(\x01\x00'), (25996, b'\x00(\x01\x00'), (26036, b'\x00(\x01\x00'),
    (26076, b'\x00(\x01\x00'), (26116, b'\x00(\x01\x00'), (26156, b'\x00(\x01\x00'), (26196, b'\x00(\x01\x00'),
    (26236, b'\x00(\x01\x00'), (26276, b'\x00(\x01\x00'), (26316, b'\x00(\x01\x00'), (26356, b'\x00(\x01\x00'),
    (26396, b'\x00(\x01\x00'), (26436, b'\x00(\x01\x00'), (26476, b'\x00(\x01\x00'), (26516, b'\x00(\x01\x00'),
    (26556, b'\x00(\x01\x00'), (26596, b'\x00(\x01\x00'), (26636, b'\x00(\x01\x00'), (26676, b'\x00(\x01\x00'),
    (26716, b'\x00(\x01\x00'), (26756, b'\x00(\x01\x00'), (26796, b'\x00(\x01\x00'), (26836, b'\x00(\x01\x00'),
    (26876, b'\x00(\x01\x00'), (26916, b'\x00(\x01\x00'), (26956, b'\x00(\x01\x00'), (26996, b'\x00(\x01\x00'),
    (27036, b'\x00(\x01\x00'), (27076, b'\x00(\x01\x00'), (27116, b'\x00(\x01\x00'), (27156, b'\x00(\x01\x00'),
    (27196, b'\x00(\x01\x00'), (27236, b'\x00(\x01\x00'), (27276, b'\x00(\x01\x00'), (27316, b'\x00(\x01\x00'),
    (27356, b'\x00(\x01\x00'), (27396, b'\x00(\x01\x00'), (27436, b'\x00(\x01\x00'), (27476, b'\x00(\x01\x00'),
    (27516, b'\x00(\x01\x00'), (27556, b'\x00(\x01\x00'), (27596, b'\x00(\x01\x00'), (27636, b'\x00(\x01\x00'),
    (27676, b'\x00(\x01\x00'), (27716, b'\x00(\x01\x00'), (27756, b'\x00(\x01\x00'), (27796, b'\x00(\x01\x00'),
    (27836, b'\x00(\x01\x00'), (27876, b'\x00(\x01\x00'), (27916, b'\x00(\x01\x00'), (27956, b'\x00(\x01\x00'),
    (27996, b'\x00(\x01\x00'), (28036, b'\x00(\x01\x00'), (28076, b'\x00(\x01\x00'), (28116, b'\x00(\x01\x00'),
    (28156, b'\x00(\x01\x00'), (28196, b'\x00(\x01\x00'), (28236, b'\x00(\x01\x00'), (28276, b'\x00(\x01\x00'),
    (28316, b'\x00(\x01\x00'), (28356, b'\x00(\x01\x00'), (28396, b'\x00(\x01\x00'), (28436, b'\x00(\x01\x00'),
    (28476, b'\x00(\x01\x00'), (28516, b'\x00(\x01\x00'), (28556, b'\x00(\x01\x00'), (28596, b'\x00(\x01\x00'),
    (28636, b'\x00(\x01\x00'), (28676, b'\x00(\x01\x00'), (28716, b'\x00(\x01\x00'), (28756, b'\x00(\x01\x00'),
    (28796, b'\x00(\x01\x00'), (28836, b'\x00(\x01\x00'), (28876, b'\x00(\x01\x00'), (28916, b'\x00(\x01\x00'),
    (28956, b'\x00(\x01\x00'), (28996, b'\x00(\x01\x00'), (29036, b'\x00(\x01\x00'), (29076, b'\x00(\x01\x00'),
    (29116, b'\x00(\x01\x00'), (29156, b'\x00(\x01\x00'), (29196, b'\x00(\x01\x00'), (29236, b'\x00(\x01\x00'),
    (29276, b'\x00(\x01\x00'), (29316, b'\x00(\x01\x00'), (29356, b'\x00(\x01\x00'), (29396, b'\x00(\x01\x00'),
    (29436, b'\x00(\x01\x00'), (29476, b'\x00(\x01\x00'), (29516, b'\x00(\x01\x00'), (29556, b'\x00(\x01\x00'),
    (29596, b'\x00(\x01\x00'), (29636, b'\x00(\x01\x00'), (29676, b'\x00(\x01\x00'), (29716, b'\x00(\x01\x00'),
    (29756, b'\x00(\x01\x00'), (29796, b'\x00(\x01\x00'), (29836, b'\x00(\x01\x00'), (29876, b'\x00(\x01\x00'),
    (29916, b'\x00(\x01\x00'), (29956, b'\x00(\x01\x00'), (29996, b'\x00(\x01\x00'), (30036, b'\x00(\x01\x00'),
    (30076, b'\x00(\x01\x00'), (30116, b'\x00(\x01\x00'), (30156, b'\x00(\x01\x00'), (30196, b'\x00(\x01\x00'),
    (30236, b'\x00(\x01\x00'), (30276, b'\x00(\x01\x00'), (30316, b'\x00(\x01\x00'), (30356, b'\x00(\x01\x00'),
    (30396, b'\x00(\x01\x00'), (30436, b'\x00(\x01\x00'), (30476, b'\x00(\x01\x00'), (30516, b'\x00(\x01\x00'),
    (30556, b'\x00(\x01\x00'), (30596, b'\x00(\x01\x00'), (30636, b'\x00(\x01\x00'), (30676, b'\x00(\x01\x00'),
    (30716, b'\x00(\x01\x00'), (30756, b'\x00(\x01\x00'), (30796, b'\x00(\x01\x00'), (30836, b'\x00(\x01\x00'),
    (30876, b'\x00(\x01\x00'), (30916, b'\x00(\x01\x00'), (30956, b'\x00(\x01\x00'), (30996, b'\x00(\x01\x00'),
    (31036, b'\x00(\x01\x00'), (31076, b'\x00(\x01\x00'), (31116, b'\x00(\x01\x00'), (31156, b'\x00(\x01\x00'),
    (31196, b'\x00(\x01\x00'), (31236, b'\x00(\x01\x00'), (31276, b'\x00(\x01\x00'), (31316, b'\x00(\x01\x00'),
    (31356, b'\x00(\x01\x00'), (31396, b'\x00(\x01\x00'), (31436, b'\x00(\x01\x00'), (31476, b'\x00(\x01\x00'),
    (31516, b'\x00(\x01\x00'), (31556, b'\x00(\x01\x00'), (31596, b'\x00(\x01\x00'), (31636, b'\x00(\x01\x00'),
    (31676, b'\x00(\x01\x00'), (31716, b'\x00(\x01\x00'), (31756, b'\x00(\x01\x00'), (31796, b'\x00(\x01\x00'),
    (31836, b'\x00(\x01\x00'), (31876, b'\x00(\x01\x00'), (31916, b'\x00(\x01\x00'), (31956, b'\x00(\x01\x00'),
    (31996, b'\x00(\x01\x00'), (32036, b'\x00(\x01\x00'), (32076, b'\x00(\x01\x00'), (32116, b'\x00(\x01\x00'),
    (32156, b'\x00(\x01\x00'), (32196, b'\x00(\x01\x00'), (32236, b'\x00(\x01\x00'), (32276, b'\x00(\x01\x00'),
    (32316, b'\x00(\x01\x00'), (32356, b'\x00(\x01\x00'), (32396, b'\x00(\x01\x00'), (32436, b'\x00(\x01\x00'),
    (32476, b'\x00(\x01\x00'), (32516, b'\x00(\x01\x00'), (32556, b'\x00(\x01\x00'), (32596, b'\x00(\x01\x00'),
    (32636, b'\x00(\x01\x00'), (32676, b'\x00(\x01\x00'), (32716, b'\x00(\x01\x00'), (32756, b'\x00(\x01\x00'),
    (32796, b'\x004\x01\x00'), (32848, b' \x00\xff\x01'), (32852, b'\x00(\x01\x00'), (32892, b'\x00(\x01\x00'),
    (32932, b'\x00(\x01\x00'), (32972, b'\x00(\x01\x00'), (33012, b'\x00(\x01\x00'), (33052, b'\x00(\x01\x00'),
    (33092, b'\x00(\x01\x00'), (33132, b'\x00(\x01\x00'), (33172, b'\x00(\x01\x00'), (33212, b'\x00(\x01\x00'),
    (33252, b'\x00(\x01\x00'), (33292, b'\x00(\x01\x00'), (33332, b'\x00(\x01\x00'), (33372, b'\x00(\x01\x00'),
    (33412, b'\x00(\x01\x00'), (33452, b'\x00(\x01\x00'), (33492, b'\x00(\x01\x00'), (33532, b'\x00(\x01\x00'),
    (33572, b'\x00(\x01\x00'), (33612, b'\x00(\x01\x00'), (33652, b'\x00(\x01\x00'), (33692, b'\x00(\x01\x00'),
    (33732, b'\x00(\x01\x00'), (33772, b'\x00(\x01\x00'), (33812, b'\x00(\x01\x00'), (33852, b'\x00(\x01\x00'),
    (33892, b'\x00(\x01\x00'), (33932, b'\x00(\x01\x00'), (33972, b'\x00(\x01\x00'), (34012, b'\x00(\x01\x00'),
    (34052, b'\x00(\x01\x00'), (34092, b'\x00(\x01\x00'), (34132, b'\x00(\x01\x00'), (34172, b'\x00(\x01\x00'),
    (34212, b'\x00(\x01\x00'), (34252, b'\x00(\x01\x00'), (34292, b'\x00(\x01\x00'), (34332, b'\x00(\x01\x00'),
    (34372, b'\x00(\x01\x00'), (34412, b'\x00(\x01\x00'), (34452, b'\x00(\x01\x00'), (34492, b'\x00(\x01\x00'),
    (34532, b'\x00(\x01\x00'), (34572, b'\x00(\x01\x00'), (34612, b'\x00(\x01\x00'), (34652, b'\x00(\x01\x00'),
    (34692, b'\x00(\x01\x00'), (34732, b'\x00(\x01\x00'), (34772, b'\x00(\x01\x00'), (34812, b'\x00(\x01\x00'),
    (34852, b'\x00(\x01\x00'), (34892, b'\x00(\x01\x00'), (34932, b'\x00(\x01\x00'), (34972, b'\x00(\x01\x00'),
    (35012, b'\x00(\x01\x00'), (35052, b'\x00(\x01\x00'), (35092, b'\x00(\x01\x00'), (35132, b'\x00(\x01\x00'),
    (35172, b'\x00(\x01\x00'), (35212, b'\x00(\x01\x00'), (35252, b'\x00(\x01\x00'), (35292, b'\x00(\x01\x00'),
    (35332, b'\x00(\x01\x00'), (35372, b'\x00(\x01\x00'), (35412, b'\x00(\x01\x00'), (35452, b'\x00(\x01\x00'),
    (35492, b'\x00(\x01\x00'), (35532, b'\x00(\x01\x00'), (35572, b'\x00(\x01\x00'), (35612, b'\x00(\x01\x00'),
    (35652, b'\x00(\x01\x00'), (35692, b'\x00(\x01\x00'), (35732, b'\x00(\x01\x00'), (35772, b'\x00(\x01\x00'),
    (35812, b'\x00(\x01\x00'), (35852, b'\x00(\x01\x00'), (35892, b'\x00(\x01\x00'), (35932, b'\x00(\x01\x00'),
    (35972, b'\x00(\x01\x00'), (36012, b'\x00(\x01\x00'), (36052, b'\x00(\x01\x00'), (36092, b'\x00(\x01\x00'),
    (36132, b'\x00(\x01\x00'), (36172, b'\x00(\x01\x00'), (36212, b'\x00(\x01\x00'), (36252, b'\x00(\x01\x00'),
    (36292, b'\x00(\x01\x00'), (36332, b'\x00(\x01\x00'), (36372, b'\x00(\x01\x00'), (36412, b'\x00(\x01\x00'),
    (36452, b'\x00(\x01\x00'), (36492, b'\x00(\x01\x00'), (36532, b'\x00(\x01\x00'), (36572, b'\x00(\x01\x00'),
    (36612, b'\x00(\x01\x00'), (36652, b'\x00(\x01\x00'), (36692, b'\x00(\x01\x00'), (36732, b'\x00(\x01\x00'),
    (36772, b'\x00(\x01\x00'), (36812, b'\x00(\x01\x00'), (36852, b'\x00(\x01\x00'), (36892, b'\x00(\x01\x00'),
    (36932, b'\x00(\x01\x00'), (36972, b'\x00(\x01\x00'), (37012, b'\x00(\x01\x00'), (37052, b'\x00(\x01\x00'),
    (37092, b'\x00(\x01\x00'), (37132, b'\x00(\x01\x00'), (37172, b'\x00(\x01\x00'), (37212, b'\x00(\x01\x00'),
    (37252, b'\x00(\x01\x00'), (37292, b'\x00(\x01\x00'), (37332, b'\x00(\x01\x00'), (37372, b'\x00(\x01\x00'),
    (37412, b'\x00(\x01\x00'), (37452, b'\x00(\x01\x00'), (37492, b'\x00(\x01\x00'), (37532, b'\x00(\x01\x00'),
    (37572, b'\x00(\x01\x00'), (37612, b'\x00(\x01\x00'), (37652, b'\x00(\x01\x00'), (37692, b'\x00(\x01\x00'),
    (37732, b'\x00(\x01\x00'), (37772, b'\x00(\x01\x00'), (37812, b'\x00(\x01\x00'), (37852, b'\x00(\x01\x00'),
    (37892, b'\x00(\x01\x00'), (37932, b'\x00(\x01\x00'), (37972, b'\x00(\x01\x00'), (38012, b'\x00(\x01\x00'),
    (38052, b'\x00(\x01\x00'), (38092, b'\x00(\x01\x00'), (38132, b'\x00(\x01\x00'), (38172, b'\x00(\x01\x00'),
    (38212, b'\x00(\x01\x00'), (38252, b'\x00(\x01\x00'), (38292, b'\x00(\x01\x00'), (38332, b'\x00(\x01\x00'),
    (38372, b'\x00(\x01\x00'), (38412, b'\x00(\x01\x00'), (38452, b'\x00(\x01\x00'), (38492, b'\x00(\x01\x00'),
    (38532, b'\x00(\x01\x00'), (38572, b'\x00(\x01\x00'), (38612, b'\x00(\x01\x00'), (38652, b'\x00(\x01\x00'),
    (38692, b'\x00(\x01\x00'), (38732, b'\x00(\x01\x00'), (38772, b'\x00(\x01\x00'), (38812, b'\x00(\x01\x00'),
    (38852, b'\x00(\x01\x00'), (38892, b'\x00(\x01\x00'), (38932, b'\x00(\x01\x00'), (38972, b'\x00(\x01\x00'),
    (39012, b'\x00(\x01\x00'), (39052, b'\x00(\x01\x00'), (39092, b'\x00(\x01\x00'), (39132, b'\x00(\x01\x00'),
    (39172, b'\x00(\x01\x00'), (39212, b'\x00(\x01\x00'), (39252, b'\x00(\x01\x00'), (39292, b'\x00(\x01\x00'),
    (39332, b'\x00(\x01\x00'), (39372, b'\x00(\x01\x00'), (39412, b'\x00(\x01\x00'), (39452, b'\x00(\x01\x00'),
    (39492, b'\x00(\x01\x00'), (39532, b'\x00(\x01\x00'), (39572, b'\x00(\x01\x00'), (39612, b'\x00(\x01\x00'),
    (39652, b'\x00(\x01\x00'), (39692, b'\x00(\x01\x00'), (39732, b'\x00(\x01\x00'), (39772, b'\x00(\x01\x00'),
    (39812, b'\x00(\x01\x00'), (39852, b'\x00(\x01\x00'), (39892, b'\x00(\x01\x00'), (39932, b'\x00(\x01\x00'),
    (39972, b'\x00(\x01\x00'), (40012, b'\x00(\x01\x00'), (40052, b'\x00(\x01\x00'), (40092, b'\x00(\x01\x00'),
    (40132, b'\x00(\x01\x00'), (40172, b'\x00(\x01\x00'), (40212, b'\x00(\x01\x00'), (40252, b'\x00(\x01\x00'),
    (40292, b'\x00(\x01\x00'), (40332, b'\x00(\x01\x00'), (40372, b'\x00(\x01\x00'), (40412, b'\x00(\x01\x00'),
    (40452, b'\x00(\x01\x00'), (40492, b'\x00(\x01\x00'), (40532, b'\x00(\x01\x00'), (40572, b'\x00(\x01\x00'),
    (40612, b'\x00(\x01\x00'), (40652, b'\x00(\x01\x00'), (40692, b'\x00(\x01\x00'), (40732, b'\x00(\x01\x00'),
    (40772, b'\x00(\x01\x00'), (40812, b'\x00(\x01\x00'), (40852, b'\x00(\x01\x00'), (40892, b'\x00(\x01\x00'),
    (40932, b'\x00(\x01\x00'), (40972, b'\x00(\x01\x00'), (41012, b'\x00\x1c \x00'), (41040, b'\x0f$\xff\x01'),
    (41044, b'\x00\x10A\x00'), (41060, b'\x00(\x01\x00'), (41100, b'\x00(\x01\x00'), (41140, b'\x00(\x01\x00'),
    (41180, b'\x00(\x01\x00'), (41220, b'\x00(\x01\x00'), (41260, b'\x00(\x01\x00'), (41300, b'\x00(\x01\x00'),
    (41340, b'\x00(\x01\x00'), (41380, b'\x00(\x01\x00'), (41420, b'\x00(\x01\x00'), (41460, b'\x00(\x01\x00'),
    (41500, b'\x00(\x01\x00'), (41540, b'\x00(\x01\x00'), (41580, b'\x00(\x01\x00'), (41620, b'\x00(\x01\x00'),
    (41660, b'\x00(\x01\x00'), (41700, b'\x00(\x01\x00'), (41740, b'\x00(\x01\x00'), (41780, b'\x00(\x01\x00'),
    (41820, b'\x00(\x01\x00'), (41860, b'\x00(\x01\x00'), (41900, b'\x00(\x01\x00'), (41940, b'\x00(\x01\x00'),
    (41980, b'\x00(\x01\x00'), (42020, b'\x00(\x01\x00'), (42060, b'\x00(\x01\x00'), (42100, b'\x00(\x01\x00'),
    (42140, b'\x00(\x01\x00'), (42180, b'\x00(\x01\x00'), (42220, b'\x00(\x01\x00'), (42260, b'\x00(\x01\x00'),
    (42300, b'\x00(\x01\x00'), (42340, b'\x00(\x01\x00'), (42380, b'\x00(\x01\x00'), (42420, b'\x00(\x01\x00'),
    (42460, b'\x00(\x01\x00'), (42500, b'\x00(\x01\x00'), (42540, b'\x00(\x01\x00'), (42580, b'\x00(\x01\x00'),
    (42620, b'\x00(\x01\x00'), (42660, b'\x00(\x01\x00'), (42700, b'\x00(\x01\x00'), (42740, b'\x00(\x01\x00'),
    (42780, b'\x00(\x01\x00'), (42820, b'\x00(\x01\x00'), (42860, b'\x00(\x01\x00'), (42900, b'\x00(\x01\x00'),
    (42940, b'\x00(\x01\x00'), (42980, b'\x00(\x01\x00'), (43020, b'\x00(\x01\x00'), (43060, b'\x00(\x01\x00'),
    (43100, b'\x00(\x01\x00'), (43140, b'\x00(\x01\x00'), (43180, b'\x00(\x01\x00'), (43220, b'\x00(\x01\x00'),
    (43260, b'\x00(\x01\x00'), (43300, b'\x00(\x01\x00'), (43340, b'\x00(\x01\x00'), (43380, b'\x00(\x01\x00'),
    (43420, b'\x00(\x01\x00'), (43460, b'\x00(\x01\x00'), (43500, b'\x00(\x01\x00'), (43540, b'\x00(\x01\x00'),
    (43580, b'\x00(\x01\x00'), (43620, b'\x00(\x01\x00'), (43660, b'\x00(\x01\x00'), (43700, b'\x00(\x01\x00'),
    (43740, b'\x00(\x01\x00'), (43780, b'\x00(\x01\x00'), (43820, b'\x00(\x01\x00'), (43860, b'\x00(\x01\x00'),
    (43900, b'\x00(\x01\x00'), (43940, b'\x00(\x01\x00'), (43980, b'\x00(\x01\x00'), (44020, b'\x00(\x01\x00'),
    (44060, b'\x00(\x01\x00'), (44100, b'\x00(\x01\x00'), (44140, b'\x00(\x01\x00'), (44180, b'\x00(\x01\x00'),
    (44220, b'\x00(\x01\x00'), (44260, b'\x00(\x01\x00'), (44300, b'\x00(\x01\x00'), (44340, b'\x00(\x01\x00'),
    (44380, b'\x00(\x01\x00'), (44420, b'\x00(\x01\x00'), (44460, b'\x00(\x01\x00'), (44500, b'\x00(\x01\x00'),
    (44540, b'\x00(\x01\x00'), (44580, b'\x00(\x01\x00'), (44620, b'\x00(\x01\x00'), (44660, b'\x00(\x01\x00'),
    (44700, b'\x00(\x01\x00'), (44740, b'\x00(\x01\x00'), (44780, b'\x00(\x01\x00'), (44820, b'\x00(\x01\x00'),
    (44860, b'\x00(\x01\x00'), (44900, b'\x00\x10\x01\x7f')]

assert len(EXAMPLE_SEEK_READ_INITIAL) == 671

EXAMPLE_SEEK_READ_INITIAL_JSON = '[[0, "MDAwMVYxLjAwUkVDT1JEMDgxOTIgICAgICAgICAgICAgICsrK1RJRkBDOlxJTlNJVEVcRGF0YVxF\neHBGaWxlc1xWQTI0NTZ+MS5ETEkrKys=\n"], [80, "IAD/AQ==\n"], [84, "AHyAAA==\n"], [208, "AfyBAQ==\n"], [716, "AMyBBA==\n"], [920, "C9yABQ==\n"], [3956, "A1KABQ==\n"], [4806, "AX6AAw==\n"], [5188, "AKKAgA==\n"], [5350, "BpyBBg==\n"], [7042, "BM6gBg==\n"], [8272, "IAD/AQ==\n"], [8276, "AibBBg==\n"], [8826, "HdagBg==\n"], [16464, "IAD/AQ==\n"], [16468, "CoDBBg==\n"], [19156, "ACYAAA==\n"], [19194, "ACYAAA==\n"], [19232, "ACYAAA==\n"], [19270, "ACYAAA==\n"], [19308, "ACYAAA==\n"], [19346, "ACYAAA==\n"], [19384, "ACYAAA==\n"], [19422, "ACYAAA==\n"], [19460, "ACYAAA==\n"], [19498, "ACYAAA==\n"], [19536, "ACYAAA==\n"], [19574, "ACYAAA==\n"], [19612, "ACYAAA==\n"], [19650, "ACYAAA==\n"], [19688, "ACYAAA==\n"], [19726, "ACYAAA==\n"], [19764, "ACYAAA==\n"], [19802, "ACYAAA==\n"], [19840, "ACYAAA==\n"], [19878, "ACYAAA==\n"], [19916, "ACYAAA==\n"], [19954, "ACYAAA==\n"], [19992, "ACYAAA==\n"], [20030, "ACYAAA==\n"], [20068, "ACYAAA==\n"], [20106, "ACYAAA==\n"], [20144, "ACYAAA==\n"], [20182, "ACYAAA==\n"], [20220, "ACYAAA==\n"], [20258, "ACYAAA==\n"], [20296, "ACYAAA==\n"], [20334, "ACYAAA==\n"], [20372, "ACYAAA==\n"], [20410, "ACYAAA==\n"], [20448, "ACYAAA==\n"], [20486, "ACYAAA==\n"], [20524, "ACYAAA==\n"], [20562, "ACYAAA==\n"], [20600, "ACYAAA==\n"], [20638, "ACYAAA==\n"], [20676, "ACYAAA==\n"], [20714, "ACYAAA==\n"], [20752, "ACYAAA==\n"], [20790, "ACYAAA==\n"], [20828, "ACYAAA==\n"], [20866, "ACYAAA==\n"], [20904, "ACYAAA==\n"], [20942, "ACYAAA==\n"], [20980, "ACYAAA==\n"], [21018, "ACYAAA==\n"], [21056, "ACYAAA==\n"], [21094, "ACYAAA==\n"], [21132, "ACYAAA==\n"], [21170, "ACYAAA==\n"], [21208, "ACYAAA==\n"], [21246, "ACYAAA==\n"], [21284, "ACYAAA==\n"], [21322, "ACYAAA==\n"], [21360, "ACYAAA==\n"], [21398, "ACYAAA==\n"], [21436, "ACYAAA==\n"], [21474, "ACYAAA==\n"], [21512, "ACYAAA==\n"], [21550, "ACYAAA==\n"], [21588, "ACYAAA==\n"], [21626, "ACYAAA==\n"], [21664, "ACYAAA==\n"], [21702, "ACYAAA==\n"], [21740, "ACYAAA==\n"], [21778, "ACYAAA==\n"], [21816, "ACYAAA==\n"], [21854, "ACYAAA==\n"], [21892, "ACYAAA==\n"], [21930, "ACYAAA==\n"], [21968, "ACYAAA==\n"], [22006, "ACYAAA==\n"], [22044, "ACYAAA==\n"], [22082, "ACYAAA==\n"], [22120, "ACYAAA==\n"], [22158, "ACYAAA==\n"], [22196, "ACYAAA==\n"], [22234, "ACYAAA==\n"], [22272, "ACYAAA==\n"], [22310, "ACYAAA==\n"], [22348, "ACYAAA==\n"], [22386, "ACYAAA==\n"], [22424, "ACYAAA==\n"], [22462, "ACYAAA==\n"], [22500, "ACYAAA==\n"], [22538, "ACYAAA==\n"], [22576, "ACYAAA==\n"], [22614, "ACYAAA==\n"], [22652, "ACYAAA==\n"], [22690, "ACYAAA==\n"], [22728, "ACYAAA==\n"], [22766, "ACYAAA==\n"], [22804, "ACYAAA==\n"], [22842, "ACYAAA==\n"], [22880, "ACYAAA==\n"], [22918, "ACYAAA==\n"], [22956, "ACYAAA==\n"], [22994, "ACYAAA==\n"], [23032, "ACYAAA==\n"], [23070, "ACYAAA==\n"], [23108, "ACYAAA==\n"], [23146, "ACYAAA==\n"], [23184, "ACYAAA==\n"], [23222, "ACYAAA==\n"], [23260, "ACYAAA==\n"], [23298, "ACYAAA==\n"], [23336, "ACYAAA==\n"], [23374, "ACYAAA==\n"], [23412, "ACYAAA==\n"], [23450, "ACYAAA==\n"], [23488, "ACYAAA==\n"], [23526, "ACYAAA==\n"], [23564, "ACYAAA==\n"], [23602, "ACYAAA==\n"], [23640, "ACYAAA==\n"], [23678, "ACYAAA==\n"], [23716, "ACYAAA==\n"], [23754, "ACYAAA==\n"], [23792, "ACYAAA==\n"], [23830, "ACYAAA==\n"], [23868, "ACYAAA==\n"], [23906, "ACYAAA==\n"], [23944, "ACYAAA==\n"], [23982, "ACgBAA==\n"], [24022, "ACgBAA==\n"], [24062, "ACgBAA==\n"], [24102, "ACgBAA==\n"], [24142, "ACgBAA==\n"], [24182, "ACgBAA==\n"], [24222, "ACgBAA==\n"], [24262, "ACgBAA==\n"], [24302, "ACgBAA==\n"], [24342, "ACgBAA==\n"], [24382, "ACgBAA==\n"], [24422, "ACgBAA==\n"], [24462, "ACgBAA==\n"], [24502, "ACgBAA==\n"], [24542, "ACgBAA==\n"], [24582, "ACgBAA==\n"], [24622, "ACIgAA==\n"], [24656, "IAD/AQ==\n"], [24660, "ABBBAA==\n"], [24676, "ACgBAA==\n"], [24716, "ACgBAA==\n"], [24756, "ACgBAA==\n"], [24796, "ACgBAA==\n"], [24836, "ACgBAA==\n"], [24876, "ACgBAA==\n"], [24916, "ACgBAA==\n"], [24956, "ACgBAA==\n"], [24996, "ACgBAA==\n"], [25036, "ACgBAA==\n"], [25076, "ACgBAA==\n"], [25116, "ACgBAA==\n"], [25156, "ACgBAA==\n"], [25196, "ACgBAA==\n"], [25236, "ACgBAA==\n"], [25276, "ACgBAA==\n"], [25316, "ACgBAA==\n"], [25356, "ACgBAA==\n"], [25396, "ACgBAA==\n"], [25436, "ACgBAA==\n"], [25476, "ACgBAA==\n"], [25516, "ACgBAA==\n"], [25556, "ACgBAA==\n"], [25596, "ACgBAA==\n"], [25636, "ACgBAA==\n"], [25676, "ACgBAA==\n"], [25716, "ACgBAA==\n"], [25756, "ACgBAA==\n"], [25796, "ACgBAA==\n"], [25836, "ACgBAA==\n"], [25876, "ACgBAA==\n"], [25916, "ACgBAA==\n"], [25956, "ACgBAA==\n"], [25996, "ACgBAA==\n"], [26036, "ACgBAA==\n"], [26076, "ACgBAA==\n"], [26116, "ACgBAA==\n"], [26156, "ACgBAA==\n"], [26196, "ACgBAA==\n"], [26236, "ACgBAA==\n"], [26276, "ACgBAA==\n"], [26316, "ACgBAA==\n"], [26356, "ACgBAA==\n"], [26396, "ACgBAA==\n"], [26436, "ACgBAA==\n"], [26476, "ACgBAA==\n"], [26516, "ACgBAA==\n"], [26556, "ACgBAA==\n"], [26596, "ACgBAA==\n"], [26636, "ACgBAA==\n"], [26676, "ACgBAA==\n"], [26716, "ACgBAA==\n"], [26756, "ACgBAA==\n"], [26796, "ACgBAA==\n"], [26836, "ACgBAA==\n"], [26876, "ACgBAA==\n"], [26916, "ACgBAA==\n"], [26956, "ACgBAA==\n"], [26996, "ACgBAA==\n"], [27036, "ACgBAA==\n"], [27076, "ACgBAA==\n"], [27116, "ACgBAA==\n"], [27156, "ACgBAA==\n"], [27196, "ACgBAA==\n"], [27236, "ACgBAA==\n"], [27276, "ACgBAA==\n"], [27316, "ACgBAA==\n"], [27356, "ACgBAA==\n"], [27396, "ACgBAA==\n"], [27436, "ACgBAA==\n"], [27476, "ACgBAA==\n"], [27516, "ACgBAA==\n"], [27556, "ACgBAA==\n"], [27596, "ACgBAA==\n"], [27636, "ACgBAA==\n"], [27676, "ACgBAA==\n"], [27716, "ACgBAA==\n"], [27756, "ACgBAA==\n"], [27796, "ACgBAA==\n"], [27836, "ACgBAA==\n"], [27876, "ACgBAA==\n"], [27916, "ACgBAA==\n"], [27956, "ACgBAA==\n"], [27996, "ACgBAA==\n"], [28036, "ACgBAA==\n"], [28076, "ACgBAA==\n"], [28116, "ACgBAA==\n"], [28156, "ACgBAA==\n"], [28196, "ACgBAA==\n"], [28236, "ACgBAA==\n"], [28276, "ACgBAA==\n"], [28316, "ACgBAA==\n"], [28356, "ACgBAA==\n"], [28396, "ACgBAA==\n"], [28436, "ACgBAA==\n"], [28476, "ACgBAA==\n"], [28516, "ACgBAA==\n"], [28556, "ACgBAA==\n"], [28596, "ACgBAA==\n"], [28636, "ACgBAA==\n"], [28676, "ACgBAA==\n"], [28716, "ACgBAA==\n"], [28756, "ACgBAA==\n"], [28796, "ACgBAA==\n"], [28836, "ACgBAA==\n"], [28876, "ACgBAA==\n"], [28916, "ACgBAA==\n"], [28956, "ACgBAA==\n"], [28996, "ACgBAA==\n"], [29036, "ACgBAA==\n"], [29076, "ACgBAA==\n"], [29116, "ACgBAA==\n"], [29156, "ACgBAA==\n"], [29196, "ACgBAA==\n"], [29236, "ACgBAA==\n"], [29276, "ACgBAA==\n"], [29316, "ACgBAA==\n"], [29356, "ACgBAA==\n"], [29396, "ACgBAA==\n"], [29436, "ACgBAA==\n"], [29476, "ACgBAA==\n"], [29516, "ACgBAA==\n"], [29556, "ACgBAA==\n"], [29596, "ACgBAA==\n"], [29636, "ACgBAA==\n"], [29676, "ACgBAA==\n"], [29716, "ACgBAA==\n"], [29756, "ACgBAA==\n"], [29796, "ACgBAA==\n"], [29836, "ACgBAA==\n"], [29876, "ACgBAA==\n"], [29916, "ACgBAA==\n"], [29956, "ACgBAA==\n"], [29996, "ACgBAA==\n"], [30036, "ACgBAA==\n"], [30076, "ACgBAA==\n"], [30116, "ACgBAA==\n"], [30156, "ACgBAA==\n"], [30196, "ACgBAA==\n"], [30236, "ACgBAA==\n"], [30276, "ACgBAA==\n"], [30316, "ACgBAA==\n"], [30356, "ACgBAA==\n"], [30396, "ACgBAA==\n"], [30436, "ACgBAA==\n"], [30476, "ACgBAA==\n"], [30516, "ACgBAA==\n"], [30556, "ACgBAA==\n"], [30596, "ACgBAA==\n"], [30636, "ACgBAA==\n"], [30676, "ACgBAA==\n"], [30716, "ACgBAA==\n"], [30756, "ACgBAA==\n"], [30796, "ACgBAA==\n"], [30836, "ACgBAA==\n"], [30876, "ACgBAA==\n"], [30916, "ACgBAA==\n"], [30956, "ACgBAA==\n"], [30996, "ACgBAA==\n"], [31036, "ACgBAA==\n"], [31076, "ACgBAA==\n"], [31116, "ACgBAA==\n"], [31156, "ACgBAA==\n"], [31196, "ACgBAA==\n"], [31236, "ACgBAA==\n"], [31276, "ACgBAA==\n"], [31316, "ACgBAA==\n"], [31356, "ACgBAA==\n"], [31396, "ACgBAA==\n"], [31436, "ACgBAA==\n"], [31476, "ACgBAA==\n"], [31516, "ACgBAA==\n"], [31556, "ACgBAA==\n"], [31596, "ACgBAA==\n"], [31636, "ACgBAA==\n"], [31676, "ACgBAA==\n"], [31716, "ACgBAA==\n"], [31756, "ACgBAA==\n"], [31796, "ACgBAA==\n"], [31836, "ACgBAA==\n"], [31876, "ACgBAA==\n"], [31916, "ACgBAA==\n"], [31956, "ACgBAA==\n"], [31996, "ACgBAA==\n"], [32036, "ACgBAA==\n"], [32076, "ACgBAA==\n"], [32116, "ACgBAA==\n"], [32156, "ACgBAA==\n"], [32196, "ACgBAA==\n"], [32236, "ACgBAA==\n"], [32276, "ACgBAA==\n"], [32316, "ACgBAA==\n"], [32356, "ACgBAA==\n"], [32396, "ACgBAA==\n"], [32436, "ACgBAA==\n"], [32476, "ACgBAA==\n"], [32516, "ACgBAA==\n"], [32556, "ACgBAA==\n"], [32596, "ACgBAA==\n"], [32636, "ACgBAA==\n"], [32676, "ACgBAA==\n"], [32716, "ACgBAA==\n"], [32756, "ACgBAA==\n"], [32796, "ADQBAA==\n"], [32848, "IAD/AQ==\n"], [32852, "ACgBAA==\n"], [32892, "ACgBAA==\n"], [32932, "ACgBAA==\n"], [32972, "ACgBAA==\n"], [33012, "ACgBAA==\n"], [33052, "ACgBAA==\n"], [33092, "ACgBAA==\n"], [33132, "ACgBAA==\n"], [33172, "ACgBAA==\n"], [33212, "ACgBAA==\n"], [33252, "ACgBAA==\n"], [33292, "ACgBAA==\n"], [33332, "ACgBAA==\n"], [33372, "ACgBAA==\n"], [33412, "ACgBAA==\n"], [33452, "ACgBAA==\n"], [33492, "ACgBAA==\n"], [33532, "ACgBAA==\n"], [33572, "ACgBAA==\n"], [33612, "ACgBAA==\n"], [33652, "ACgBAA==\n"], [33692, "ACgBAA==\n"], [33732, "ACgBAA==\n"], [33772, "ACgBAA==\n"], [33812, "ACgBAA==\n"], [33852, "ACgBAA==\n"], [33892, "ACgBAA==\n"], [33932, "ACgBAA==\n"], [33972, "ACgBAA==\n"], [34012, "ACgBAA==\n"], [34052, "ACgBAA==\n"], [34092, "ACgBAA==\n"], [34132, "ACgBAA==\n"], [34172, "ACgBAA==\n"], [34212, "ACgBAA==\n"], [34252, "ACgBAA==\n"], [34292, "ACgBAA==\n"], [34332, "ACgBAA==\n"], [34372, "ACgBAA==\n"], [34412, "ACgBAA==\n"], [34452, "ACgBAA==\n"], [34492, "ACgBAA==\n"], [34532, "ACgBAA==\n"], [34572, "ACgBAA==\n"], [34612, "ACgBAA==\n"], [34652, "ACgBAA==\n"], [34692, "ACgBAA==\n"], [34732, "ACgBAA==\n"], [34772, "ACgBAA==\n"], [34812, "ACgBAA==\n"], [34852, "ACgBAA==\n"], [34892, "ACgBAA==\n"], [34932, "ACgBAA==\n"], [34972, "ACgBAA==\n"], [35012, "ACgBAA==\n"], [35052, "ACgBAA==\n"], [35092, "ACgBAA==\n"], [35132, "ACgBAA==\n"], [35172, "ACgBAA==\n"], [35212, "ACgBAA==\n"], [35252, "ACgBAA==\n"], [35292, "ACgBAA==\n"], [35332, "ACgBAA==\n"], [35372, "ACgBAA==\n"], [35412, "ACgBAA==\n"], [35452, "ACgBAA==\n"], [35492, "ACgBAA==\n"], [35532, "ACgBAA==\n"], [35572, "ACgBAA==\n"], [35612, "ACgBAA==\n"], [35652, "ACgBAA==\n"], [35692, "ACgBAA==\n"], [35732, "ACgBAA==\n"], [35772, "ACgBAA==\n"], [35812, "ACgBAA==\n"], [35852, "ACgBAA==\n"], [35892, "ACgBAA==\n"], [35932, "ACgBAA==\n"], [35972, "ACgBAA==\n"], [36012, "ACgBAA==\n"], [36052, "ACgBAA==\n"], [36092, "ACgBAA==\n"], [36132, "ACgBAA==\n"], [36172, "ACgBAA==\n"], [36212, "ACgBAA==\n"], [36252, "ACgBAA==\n"], [36292, "ACgBAA==\n"], [36332, "ACgBAA==\n"], [36372, "ACgBAA==\n"], [36412, "ACgBAA==\n"], [36452, "ACgBAA==\n"], [36492, "ACgBAA==\n"], [36532, "ACgBAA==\n"], [36572, "ACgBAA==\n"], [36612, "ACgBAA==\n"], [36652, "ACgBAA==\n"], [36692, "ACgBAA==\n"], [36732, "ACgBAA==\n"], [36772, "ACgBAA==\n"], [36812, "ACgBAA==\n"], [36852, "ACgBAA==\n"], [36892, "ACgBAA==\n"], [36932, "ACgBAA==\n"], [36972, "ACgBAA==\n"], [37012, "ACgBAA==\n"], [37052, "ACgBAA==\n"], [37092, "ACgBAA==\n"], [37132, "ACgBAA==\n"], [37172, "ACgBAA==\n"], [37212, "ACgBAA==\n"], [37252, "ACgBAA==\n"], [37292, "ACgBAA==\n"], [37332, "ACgBAA==\n"], [37372, "ACgBAA==\n"], [37412, "ACgBAA==\n"], [37452, "ACgBAA==\n"], [37492, "ACgBAA==\n"], [37532, "ACgBAA==\n"], [37572, "ACgBAA==\n"], [37612, "ACgBAA==\n"], [37652, "ACgBAA==\n"], [37692, "ACgBAA==\n"], [37732, "ACgBAA==\n"], [37772, "ACgBAA==\n"], [37812, "ACgBAA==\n"], [37852, "ACgBAA==\n"], [37892, "ACgBAA==\n"], [37932, "ACgBAA==\n"], [37972, "ACgBAA==\n"], [38012, "ACgBAA==\n"], [38052, "ACgBAA==\n"], [38092, "ACgBAA==\n"], [38132, "ACgBAA==\n"], [38172, "ACgBAA==\n"], [38212, "ACgBAA==\n"], [38252, "ACgBAA==\n"], [38292, "ACgBAA==\n"], [38332, "ACgBAA==\n"], [38372, "ACgBAA==\n"], [38412, "ACgBAA==\n"], [38452, "ACgBAA==\n"], [38492, "ACgBAA==\n"], [38532, "ACgBAA==\n"], [38572, "ACgBAA==\n"], [38612, "ACgBAA==\n"], [38652, "ACgBAA==\n"], [38692, "ACgBAA==\n"], [38732, "ACgBAA==\n"], [38772, "ACgBAA==\n"], [38812, "ACgBAA==\n"], [38852, "ACgBAA==\n"], [38892, "ACgBAA==\n"], [38932, "ACgBAA==\n"], [38972, "ACgBAA==\n"], [39012, "ACgBAA==\n"], [39052, "ACgBAA==\n"], [39092, "ACgBAA==\n"], [39132, "ACgBAA==\n"], [39172, "ACgBAA==\n"], [39212, "ACgBAA==\n"], [39252, "ACgBAA==\n"], [39292, "ACgBAA==\n"], [39332, "ACgBAA==\n"], [39372, "ACgBAA==\n"], [39412, "ACgBAA==\n"], [39452, "ACgBAA==\n"], [39492, "ACgBAA==\n"], [39532, "ACgBAA==\n"], [39572, "ACgBAA==\n"], [39612, "ACgBAA==\n"], [39652, "ACgBAA==\n"], [39692, "ACgBAA==\n"], [39732, "ACgBAA==\n"], [39772, "ACgBAA==\n"], [39812, "ACgBAA==\n"], [39852, "ACgBAA==\n"], [39892, "ACgBAA==\n"], [39932, "ACgBAA==\n"], [39972, "ACgBAA==\n"], [40012, "ACgBAA==\n"], [40052, "ACgBAA==\n"], [40092, "ACgBAA==\n"], [40132, "ACgBAA==\n"], [40172, "ACgBAA==\n"], [40212, "ACgBAA==\n"], [40252, "ACgBAA==\n"], [40292, "ACgBAA==\n"], [40332, "ACgBAA==\n"], [40372, "ACgBAA==\n"], [40412, "ACgBAA==\n"], [40452, "ACgBAA==\n"], [40492, "ACgBAA==\n"], [40532, "ACgBAA==\n"], [40572, "ACgBAA==\n"], [40612, "ACgBAA==\n"], [40652, "ACgBAA==\n"], [40692, "ACgBAA==\n"], [40732, "ACgBAA==\n"], [40772, "ACgBAA==\n"], [40812, "ACgBAA==\n"], [40852, "ACgBAA==\n"], [40892, "ACgBAA==\n"], [40932, "ACgBAA==\n"], [40972, "ACgBAA==\n"], [41012, "ABwgAA==\n"], [41040, "DyT/AQ==\n"], [41044, "ABBBAA==\n"], [41060, "ACgBAA==\n"], [41100, "ACgBAA==\n"], [41140, "ACgBAA==\n"], [41180, "ACgBAA==\n"], [41220, "ACgBAA==\n"], [41260, "ACgBAA==\n"], [41300, "ACgBAA==\n"], [41340, "ACgBAA==\n"], [41380, "ACgBAA==\n"], [41420, "ACgBAA==\n"], [41460, "ACgBAA==\n"], [41500, "ACgBAA==\n"], [41540, "ACgBAA==\n"], [41580, "ACgBAA==\n"], [41620, "ACgBAA==\n"], [41660, "ACgBAA==\n"], [41700, "ACgBAA==\n"], [41740, "ACgBAA==\n"], [41780, "ACgBAA==\n"], [41820, "ACgBAA==\n"], [41860, "ACgBAA==\n"], [41900, "ACgBAA==\n"], [41940, "ACgBAA==\n"], [41980, "ACgBAA==\n"], [42020, "ACgBAA==\n"], [42060, "ACgBAA==\n"], [42100, "ACgBAA==\n"], [42140, "ACgBAA==\n"], [42180, "ACgBAA==\n"], [42220, "ACgBAA==\n"], [42260, "ACgBAA==\n"], [42300, "ACgBAA==\n"], [42340, "ACgBAA==\n"], [42380, "ACgBAA==\n"], [42420, "ACgBAA==\n"], [42460, "ACgBAA==\n"], [42500, "ACgBAA==\n"], [42540, "ACgBAA==\n"], [42580, "ACgBAA==\n"], [42620, "ACgBAA==\n"], [42660, "ACgBAA==\n"], [42700, "ACgBAA==\n"], [42740, "ACgBAA==\n"], [42780, "ACgBAA==\n"], [42820, "ACgBAA==\n"], [42860, "ACgBAA==\n"], [42900, "ACgBAA==\n"], [42940, "ACgBAA==\n"], [42980, "ACgBAA==\n"], [43020, "ACgBAA==\n"], [43060, "ACgBAA==\n"], [43100, "ACgBAA==\n"], [43140, "ACgBAA==\n"], [43180, "ACgBAA==\n"], [43220, "ACgBAA==\n"], [43260, "ACgBAA==\n"], [43300, "ACgBAA==\n"], [43340, "ACgBAA==\n"], [43380, "ACgBAA==\n"], [43420, "ACgBAA==\n"], [43460, "ACgBAA==\n"], [43500, "ACgBAA==\n"], [43540, "ACgBAA==\n"], [43580, "ACgBAA==\n"], [43620, "ACgBAA==\n"], [43660, "ACgBAA==\n"], [43700, "ACgBAA==\n"], [43740, "ACgBAA==\n"], [43780, "ACgBAA==\n"], [43820, "ACgBAA==\n"], [43860, "ACgBAA==\n"], [43900, "ACgBAA==\n"], [43940, "ACgBAA==\n"], [43980, "ACgBAA==\n"], [44020, "ACgBAA==\n"], [44060, "ACgBAA==\n"], [44100, "ACgBAA==\n"], [44140, "ACgBAA==\n"], [44180, "ACgBAA==\n"], [44220, "ACgBAA==\n"], [44260, "ACgBAA==\n"], [44300, "ACgBAA==\n"], [44340, "ACgBAA==\n"], [44380, "ACgBAA==\n"], [44420, "ACgBAA==\n"], [44460, "ACgBAA==\n"], [44500, "ACgBAA==\n"], [44540, "ACgBAA==\n"], [44580, "ACgBAA==\n"], [44620, "ACgBAA==\n"], [44660, "ACgBAA==\n"], [44700, "ACgBAA==\n"], [44740, "ACgBAA==\n"], [44780, "ACgBAA==\n"], [44820, "ACgBAA==\n"], [44860, "ACgBAA==\n"], [44900, "ABABfw==\n"]]'

@pytest.mark.parametrize(
    'seek_read_bytes, expected_json_str_len',
    (
        (
            EXAMPLE_SEEK_READ_INITIAL,
            15511,
        ),
    )
)
def test_seek_read_bytes_to_json_unoptimised(seek_read_bytes, expected_json_str_len):
    base64_data = []
    for fpos, by in seek_read_bytes:
        base64_data.append((fpos, common.encode_bytes(by)))
    result = json.dumps(base64_data)
    assert len(result) == expected_json_str_len
    # print(result)
    # assert result == expected_json_str


@pytest.mark.parametrize(
    'seek_read_bytes, encode_integers, expected_json_str_len',
    (
        (
            EXAMPLE_SEEK_READ_INITIAL,
            False,
            9425,  # Compared to 15511 for raw JSON
        ),
        (
            EXAMPLE_SEEK_READ_INITIAL,
            True,
            7799,  # Compared to 15511 for raw JSON
        ),
    )
)
def test_seek_read_bytes_to_json_optimised(seek_read_bytes, encode_integers, expected_json_str_len):
    result = common.json_encode_seek_read_4_byte_optimised(seek_read_bytes, encode_integers)
    assert len(result) == expected_json_str_len
    # print(result)
    # assert result == expected_json_str


@pytest.mark.parametrize(
    'seek_read_bytes, encode_integers',
    (
        (
            EXAMPLE_SEEK_READ_INITIAL,
            False,
        ),
        (
            EXAMPLE_SEEK_READ_INITIAL,
            True,
        ),
    )
)
def test_seek_read_bytes_to_json_optimised_round_trip_python(seek_read_bytes, encode_integers):
    encoded_json = common.json_encode_seek_read_4_byte_optimised(seek_read_bytes, encode_integers)
    decoded_python = common.json_decode_seek_read_4_byte_optimised(encoded_json)
    assert seek_read_bytes == decoded_python


@pytest.mark.parametrize(
    'seek_read_bytes, encode_integers',
    (
        (
            EXAMPLE_SEEK_READ_INITIAL,
            False,
        ),
        (
            EXAMPLE_SEEK_READ_INITIAL,
            True,
        ),
    )
)
def test_seek_read_bytes_to_json_optimised_round_trip_json(seek_read_bytes, encode_integers):
    encoded_json = common.json_encode_seek_read_4_byte_optimised(seek_read_bytes, encode_integers)
    decoded_python = common.json_decode_seek_read_4_byte_optimised(encoded_json)
    result_json = common.json_encode_seek_read_4_byte_optimised(decoded_python, encode_integers)
    assert result_json == encoded_json


if __name__ == '__main__':
    pytest.main()
